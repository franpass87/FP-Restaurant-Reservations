/**
 * FP Restaurant Reservations - FIX CONTRASTI E VISIBILITÀ
 * 
 * IMPORTANTE: Questo file FORZA i colori corretti per garantire SEMPRE la visibilità
 * 
 * REGOLA D'ORO:
 * - Bottoni NERI → Testo BIANCO
 * - Bottoni BIANCHI → Testo NERO con BORDO NERO
 * - Input BIANCHI → Testo NERO
 * - Sfondo BIANCO → Testo NERO
 * 
 * Data: 12 Ottobre 2025
 * Motivo: Fix urgente visibilità bottoni
 */

/* ==================== BOTTONI PRIMARI - NERO CON TESTO BIANCO ==================== */

.fp-btn,
.fp-resv-button,
.fp-btn--primary,
.fp-resv-button--primary,
button.fp-btn,
button.fp-resv-button {
  background: #000000 !important;
  color: #ffffff !important;
  border-color: #000000 !important;
}

.fp-btn:hover,
.fp-resv-button:hover,
.fp-btn--primary:hover,
.fp-resv-button--primary:hover {
  background: #333333 !important;
  color: #ffffff !important;
  border-color: #333333 !important;
}

/* ==================== BOTTONI SECONDARI - BIANCO CON TESTO NERO ==================== */

.fp-btn--secondary,
.fp-btn--ghost,
.fp-resv-button--secondary,
.fp-resv-button--ghost {
  background: #ffffff !important;
  color: #000000 !important;
  border: 2px solid #000000 !important;
}

.fp-btn--secondary:hover,
.fp-btn--ghost:hover,
.fp-resv-button--secondary:hover,
.fp-resv-button--ghost:hover {
  background: #f5f5f5 !important;
  color: #000000 !important;
  border: 2px solid #333333 !important;
}

/* FOCUS BOTTONI - NESSUN BORDINO BLU, USA NERO */
.fp-btn:focus,
.fp-btn:focus-visible,
.fp-resv-button:focus,
.fp-resv-button:focus-visible,
button.fp-btn:focus,
button.fp-resv-button:focus,
button.fp-btn:focus-visible,
button.fp-resv-button:focus-visible {
  outline: 2px solid #000000 !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1) !important;
}

/* ==================== INPUT - BIANCO CON TESTO NERO ==================== */

.fp-input,
.fp-select,
.fp-textarea,
input.fp-input,
select.fp-select,
textarea.fp-textarea {
  background: #ffffff !important;
  color: #000000 !important;
  border: 1.5px solid #e0e0e0 !important;
}

.fp-input:focus,
.fp-select:focus,
.fp-textarea:focus {
  background: #ffffff !important;
  color: #000000 !important;
  border-color: #000000 !important;
  outline: 2px solid #000000 !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1) !important;
}

.fp-input:focus-visible,
.fp-select:focus-visible,
.fp-textarea:focus-visible {
  outline: 2px solid #000000 !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1) !important;
}

.fp-input::placeholder,
.fp-select::placeholder,
.fp-textarea::placeholder {
  color: #999999 !important;
}

/* ==================== PILL BUTTONS (PASTI) ==================== */

.fp-pill,
.fp-meal-pill {
  background: #ffffff !important;
  color: #000000 !important;
  border: 2px solid #e0e0e0 !important;
}

.fp-pill:hover,
.fp-meal-pill:hover {
  border-color: #000000 !important;
  background: #fafafa !important;
  color: #000000 !important;
}

/* ATTIVO - NERO CON BIANCO */
.fp-pill[aria-pressed="true"],
.fp-pill[data-active="true"],
.fp-meal-pill[aria-pressed="true"],
.fp-meal-pill[data-active="true"] {
  background: #000000 !important;
  color: #ffffff !important;
  border-color: #000000 !important;
}

/* FOCUS - RIMUOVI BORDINO BLU, USA NERO */
.fp-pill:focus,
.fp-pill:focus-visible,
.fp-meal-pill:focus,
.fp-meal-pill:focus-visible,
button.fp-pill:focus,
button.fp-meal-pill:focus,
button.fp-pill:focus-visible,
button.fp-meal-pill:focus-visible {
  outline: 2px solid #000000 !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1) !important;
}

/* ==================== SLOT ORARI ==================== */

.fp-slots__list button,
.fp-resv-slots__list button {
  background: #ffffff !important;
  color: #000000 !important;
  border: 2px solid #e0e0e0 !important;
}

.fp-slots__list button:hover,
.fp-resv-slots__list button:hover {
  border-color: #000000 !important;
  background: #fafafa !important;
  color: #000000 !important;
}

/* SELEZIONATO - NERO CON BIANCO */
.fp-slots__list button[aria-pressed="true"],
.fp-resv-slots__list button[aria-pressed="true"] {
  background: #000000 !important;
  color: #ffffff !important;
  border-color: #000000 !important;
}

/* FOCUS SLOT - NESSUN BORDINO BLU */
.fp-slots__list button:focus,
.fp-slots__list button:focus-visible,
.fp-resv-slots__list button:focus,
.fp-resv-slots__list button:focus-visible {
  outline: 2px solid #000000 !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1) !important;
}

/* ==================== TESTO GENERALE ==================== */

.fp-resv,
.fp-resv-widget {
  color: #000000 !important;
}

.fp-resv-widget__headline {
  color: #000000 !important;
}

.fp-resv-widget__subheadline {
  color: #666666 !important;
}

.fp-field__label,
.fp-resv-step__title,
.fp-resv-step__label {
  color: #000000 !important;
}

.fp-hint,
.fp-resv-step__description {
  color: #666666 !important;
}

/* ==================== PARTY INPUT (+/-) ==================== */

.fp-resv-party-btn {
  background: #ffffff !important;
  color: #000000 !important;
  border: 2px solid #e0e0e0 !important;
}

.fp-resv-party-btn:hover:not(:disabled) {
  background: #fafafa !important;
  color: #000000 !important;
  border-color: #000000 !important;
}

/* ==================== ALERT / FEEDBACK ==================== */

.fp-alert--success {
  background: rgba(22, 163, 74, 0.1) !important;
  color: #000000 !important;
  border-color: #16a34a !important;
}

.fp-alert--error {
  background: rgba(220, 38, 38, 0.08) !important;
  color: #000000 !important;
  border-color: #dc2626 !important;
}

.fp-alert--warning {
  background: rgba(245, 158, 11, 0.1) !important;
  color: #000000 !important;
  border-color: #f59e0b !important;
}

/* ==================== SEMAFORO DISPONIBILITÀ - COLORI REALI ==================== */

/* Badge e indicatori disponibilità */
.fp-meals__legend-item--available,
.fp-slot__availability--available,
[data-availability="available"] {
  color: #16a34a !important; /* VERDE */
}

.fp-meals__legend-item--limited,
.fp-slot__availability--limited,
[data-availability="limited"] {
  color: #f59e0b !important; /* GIALLO */
}

.fp-meals__legend-item--full,
.fp-slot__availability--full,
[data-availability="full"] {
  color: #dc2626 !important; /* ROSSO */
}

/* Indicatori rotondi del semaforo */
.fp-meals__legend-indicator {
  background: currentColor !important;
  border-color: currentColor !important;
}

/* ==================== BADGE ==================== */

.fp-badge {
  background: #000000 !important;
  color: #ffffff !important;
}

/* ==================== PROGRESS BAR ==================== */

/* Container progress */
.fp-resv-progress {
  background: #ffffff !important;
  border: 1px solid #e0e0e0 !important;
}

/* Barra di progresso (mobile) */
.fp-progress::before {
  background: #e0e0e0 !important;
}

/* DISABILITA progress-fill perché causa casino */
.fp-progress::after {
  display: none !important;
  width: 0 !important;
  background: transparent !important;
}

/* Step NON attivi: sfondo chiaro, testo scuro (solo desktop) */
@media (min-width: 768px) {
  .fp-progress__index {
    background: #f5f5f5 !important;
    border: 2px solid #e0e0e0 !important;
    color: #000000 !important;
  }

  .fp-progress__label {
    color: #666666 !important;
  }
}

/* Step ATTIVO: sfondo nero, testo bianco */
.fp-progress__item[data-state="active"] .fp-progress__index,
.fp-progress__item[aria-current="step"] .fp-progress__index {
  background: #000000 !important;
  border-color: #000000 !important;
  color: #ffffff !important;
  border-radius: 8px !important;
}

.fp-progress__item[data-state="active"] .fp-progress__label,
.fp-progress__item[aria-current="step"] .fp-progress__label {
  color: #000000 !important;
  font-weight: 700 !important;
}

/* FORZA colore nero su TUTTI gli elementi dello step attivo */
.fp-resv-widget .fp-progress__item[aria-current="step"],
.fp-resv-widget .fp-progress__item[aria-current="step"]::before,
.fp-resv-widget .fp-progress__item[aria-current="step"]::after,
.fp-resv-widget .fp-progress__item[aria-current="step"] *,
.fp-resv-widget .fp-progress__item[aria-current="step"] span,
.fp-resv-widget .fp-progress__item[aria-current="step"] strong,
.fp-resv-widget .fp-progress__item[aria-current="step"] em,
.fp-resv-widget .fp-progress__item[aria-current="step"] div,
#fp-resv-default .fp-progress__item[aria-current="step"],
#fp-resv-default .fp-progress__item[aria-current="step"]::before,
#fp-resv-default .fp-progress__item[aria-current="step"]::after,
#fp-resv-default .fp-progress__item[aria-current="step"] *,
#fp-resv-default .fp-progress__item[aria-current="step"] span,
#fp-resv-default .fp-progress__item[aria-current="step"] strong,
#fp-resv-default .fp-progress__item[aria-current="step"] em,
#fp-resv-default .fp-progress__item[aria-current="step"] div {
  color: black !important;
  background: transparent !important;
}

/* Step COMPLETATO: sfondo nero, testo bianco, con checkmark */
.fp-progress__item[data-completed="true"] .fp-progress__index,
.fp-progress__item[data-progress-state="done"] .fp-progress__index {
  background: #000000 !important;
  border-color: #000000 !important;
  color: #ffffff !important;
}

.fp-progress__item[data-completed="true"] .fp-progress__label,
.fp-progress__item[data-progress-state="done"] .fp-progress__label {
  color: #000000 !important;
}

/* ==================== PADDING MOBILE ==================== */

/* Su mobile: padding 0 per il contenitore principale */
@media (max-width: 640px) {
  .fp-resv-widget,
  #fp-resv-default {
    padding: 0px !important;
  }
  
  /* Progress item a tutta larghezza su mobile */
  .fp-resv-widget .fp-progress__item,
  #fp-resv-default .fp-progress__item {
    z-index: 10 !important;
    position: relative !important;
    background: #ffffff !important;
    border: 2px solid #cbd5e1 !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    color: #475569 !important;
    font-weight: 600 !important;
    padding: 0.65rem 1.1rem !important;
    min-height: 2.75rem !important;
    min-width: 100% !important;
  }
}

/* ==================== SEZIONI CON PADDING ==================== */

.fp-resv-widget .fp-section,
#fp-resv-default .fp-section {
  margin-bottom: 1.5rem !important;
  padding: 20px !important;
}

/* ==================== GARANZIA VISIBILITÀ ASSOLUTA ==================== */

/* Se qualcosa è ancora invisibile, questa regola lo salva */
.fp-resv * {
  min-contrast: 4.5 !important;
}

/* Assicura che tutti i link siano visibili */
.fp-resv a {
  color: #000000 !important;
  text-decoration: underline !important;
}

.fp-resv a:hover {
  color: #333333 !important;
}

